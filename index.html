<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Procurement Compliance Navigator</title>

  <!-- React 17 (stable for GitHub Pages) -->
  <script src="https://unpkg.com/react@17/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }
    h1, h2, h3 { font-family: 'Montserrat', sans-serif; }
  </style>
</head>
<body class="bg-slate-100">
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    function ProcurementTool() {
      const [step, setStep] = useState(1);
      const [amount, setAmount] = useState('');
      const [funding, setFunding] = useState('');
      const [category, setCategory] = useState('');

      const amountRanges = [
        { value: 'lt50', label: '$0 â€“ $49,999' },
        { value: '50to100', label: '$50,000 â€“ $99,999' },
        { value: 'gt100', label: '$100,000+' }
      ];

      const getResult = () => {
        if (amount === 'gt100') {
          return {
            action: 'Conduct a formal solicitation',
            method: 'IFB or RFP',
            authority: funding === 'federal'
              ? '2 CFR 200'
              : 'TEC 44.031'
          };
        }

        if (amount === '50to100') {
          return {
            action: 'Obtain at least three quotes',
            method: 'Informal / Small Purchase',
            authority: funding === 'federal'
              ? '2 CFR 200'
              : 'TEC 44.031'
          };
        }

        return {
          action: 'Obtain a quote',
          method: 'Micro-purchase',
          authority: '2 CFR 200'
        };
      };

      const result = step === 4 ? getResult() : null;

      return (
        <div className="min-h-screen p-6">
          <div className="max-w-3xl mx-auto bg-white rounded-xl shadow p-8">

            <h1 className="text-3xl font-bold mb-2 text-slate-800">
              Procurement Compliance Navigator ðŸ§­
            </h1>
            <p className="text-slate-500 mb-6">
              Answer a few questions to determine the correct procurement process.
            </p>

            {step === 1 && (
              <>
                <h2 className="text-xl font-semibold mb-4">Step 1: Purchase Amount</h2>
                {amountRanges.map(r => (
                  <button
                    key={r.value}
                    className="block w-full mb-3 p-4 border rounded hover:bg-slate-50"
                    onClick={() => { setAmount(r.value); setStep(2); }}
                  >
                    {r.label}
                  </button>
                ))}
              </>
            )}

            {step === 2 && (
              <>
                <h2 className="text-xl font-semibold mb-4">Step 2: Funding Source</h2>
                <button className="block w-full mb-3 p-4 border rounded" onClick={() => { setFunding('federal'); setStep(3); }}>
                  Federal
                </button>
                <button className="block w-full mb-3 p-4 border rounded" onClick={() => { setFunding('local'); setStep(3); }}>
                  State / Local
                </button>
              </>
            )}

            {step === 3 && (
              <>
                <h2 className="text-xl font-semibold mb-4">Step 3: Category</h2>
                <button className="block w-full mb-3 p-4 border rounded" onClick={() => { setCategory('goods'); setStep(4); }}>
                  Goods / Services
                </button>
                <button className="block w-full mb-3 p-4 border rounded" onClick={() => { setCategory('professional'); setStep(4); }}>
                  Professional Services
                </button>
                <button className="block w-full mb-3 p-4 border rounded" onClick={() => { setCategory('construction'); setStep(4); }}>
                  Construction
                </button>
              </>
            )}

            {step === 4 && result && (
              <>
                <h2 className="text-2xl font-semibold text-orange-600 mb-4">
                  Your Procurement Path
                </h2>

                <div className="bg-teal-50 border border-teal-300 rounded p-6 mb-4">
                  <h3 className="font-semibold text-slate-600 mb-1">Required Action</h3>
                  <p className="text-teal-700 text-lg">{result.action}</p>
                </div>

                <div className="mb-3">
                  <strong>Procurement Method:</strong> {result.method}
                </div>

                <div className="mb-6">
                  <strong>Authority:</strong> {result.authority}
                </div>

                <button
                  className="w-full bg-teal-700 text-white p-3 rounded hover:bg-teal-800"
                  onClick={() => {
                    setStep(1);
                    setAmount('');
                    setFunding('');
                    setCategory('');
                  }}
                >
                  Start Over
                </button>
              </>
            )}
          </div>

          <p className="text-center text-sm text-slate-500 mt-6">
            Questions? Contact Procurement for assistance.
          </p>
        </div>
      );
    }

    ReactDOM.render(<ProcurementTool />, document.getElementById('root'));
  </script>
</body>
</html>
